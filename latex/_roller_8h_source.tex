\hypertarget{_roller_8h_source}{}\doxysection{Roller.\+h}
\label{_roller_8h_source}\index{C:/Projects/FEM/prototype-\/prismatic/source/Roller.h@{C:/Projects/FEM/prototype-\/prismatic/source/Roller.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// Roller.h: interface for the CRoller class.}}
\DoxyCodeLine{2 \textcolor{comment}{//}}
\DoxyCodeLine{4 \textcolor{comment}{}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#if !defined(AFX\_ROLLER\_H\_\_547E4E97\_CBE8\_4C44\_AF02\_21FF7B703034\_\_INCLUDED\_)}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#define AFX\_ROLLER\_H\_\_547E4E97\_CBE8\_4C44\_AF02\_21FF7B703034\_\_INCLUDED\_}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#if \_MSC\_VER > 1000}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// \_MSC\_VER > 1000}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include "{}Component.h"{}}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include "{}Mesh2d.h"{}}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{keyword}{class }\mbox{\hyperlink{class_c_fem}{CFem}};}
\DoxyCodeLine{16 }
\DoxyCodeLine{17 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{}
\DoxyCodeLine{18     \textcolor{keywordtype}{bool} bCross;}
\DoxyCodeLine{19     \textcolor{keywordtype}{double} dT;}
\DoxyCodeLine{20     \textcolor{keywordtype}{int} RCnt;}
\DoxyCodeLine{21 \}\mbox{\hyperlink{struct_c_r_o_s_s_p_a_r_a_m}{CROSSPARAM}};}
\DoxyCodeLine{22 }
\DoxyCodeLine{23 \textcolor{keyword}{class }\mbox{\hyperlink{class_c_roller}{CRoller}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_c_component}{CComponent}}}
\DoxyCodeLine{24 \{}
\DoxyCodeLine{25     \textcolor{keyword}{friend} \mbox{\hyperlink{class_c_fem}{CFem}};}
\DoxyCodeLine{26 \textcolor{keyword}{public}:}
\DoxyCodeLine{27     \mbox{\hyperlink{class_c_roller}{CRoller}}(\textcolor{keywordtype}{bool} bTop);}
\DoxyCodeLine{28     \textcolor{keyword}{virtual} \mbox{\hyperlink{class_c_roller}{\string~CRoller}}();}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 \textcolor{keyword}{protected}: \textcolor{comment}{// то, что используется для разбиения (по аналогии с Billet)}}
\DoxyCodeLine{31     \textcolor{keywordtype}{double} m\_dParam\_R;}
\DoxyCodeLine{32     \textcolor{keywordtype}{double} *m\_MeshX\_R;}
\DoxyCodeLine{33     \textcolor{keywordtype}{double} *m\_MeshY\_R; }
\DoxyCodeLine{34     int(*m\_IJK\_R)[3];}
\DoxyCodeLine{35     \textcolor{keywordtype}{int} m\_nMP\_R;}
\DoxyCodeLine{36     \textcolor{keywordtype}{int} m\_nMEl\_R;}
\DoxyCodeLine{37     \textcolor{keywordtype}{double} m\_Height;}
\DoxyCodeLine{38     \textcolor{keywordtype}{double} m\_Y0;}
\DoxyCodeLine{39     \textcolor{keywordtype}{double} m\_Y;}
\DoxyCodeLine{40 }
\DoxyCodeLine{41 \textcolor{keyword}{public}:}
\DoxyCodeLine{42     \textcolor{keywordtype}{double} GetTkf();}
\DoxyCodeLine{43 }
\DoxyCodeLine{44     \mbox{\hyperlink{struct_c_r_o_s_s_p_a_r_a_m}{CROSSPARAM}} CrossParam0(\textcolor{keywordtype}{double} x, \textcolor{keywordtype}{double} y, \textcolor{keywordtype}{double} Eps); \textcolor{comment}{// // Лежит ли (x,y) в Eps коридоре от грани бойка?}}
\DoxyCodeLine{45     \mbox{\hyperlink{struct_c_r_o_s_s_p_a_r_a_m}{CROSSPARAM}} CrossParamT(\textcolor{keywordtype}{double} x, \textcolor{keywordtype}{double} y, \textcolor{keywordtype}{double} dT); \textcolor{comment}{// Лежит ли (x,y) внутри бойка через время dT?}}
\DoxyCodeLine{46 }
\DoxyCodeLine{47     \mbox{\hyperlink{struct_c_r_o_s_s_p_a_r_a_m}{CROSSPARAM}} GetTCrossParam(\textcolor{keywordtype}{double} x, \textcolor{keywordtype}{double} y, \textcolor{keywordtype}{double} vx, \textcolor{keywordtype}{double} vy, \textcolor{keywordtype}{double} dT);}
\DoxyCodeLine{48     \textcolor{keywordtype}{int} PtInside(\textcolor{keywordtype}{double} x, \textcolor{keywordtype}{double} y, \textcolor{keywordtype}{double} vx, \textcolor{keywordtype}{double} vy, \textcolor{keywordtype}{double} dT);}
\DoxyCodeLine{49     \mbox{\hyperlink{struct_c_r_o_s_s_p_a_r_a_m}{CROSSPARAM}} CheckRCnt(\textcolor{keywordtype}{int} RCnt, \textcolor{keywordtype}{double} x, \textcolor{keywordtype}{double} y, \textcolor{keywordtype}{double} vx, \textcolor{keywordtype}{double} vy);}
\DoxyCodeLine{50 }
\DoxyCodeLine{51     \textcolor{keywordtype}{void} GetParam(\textcolor{keywordtype}{int} n, \textcolor{keywordtype}{double} *psin, \textcolor{keywordtype}{double} *pcos, \textcolor{keywordtype}{double} *tkf);}
\DoxyCodeLine{52     \textcolor{keywordtype}{double} GetVelY(\textcolor{keywordtype}{double} x, \textcolor{keywordtype}{double} y, \textcolor{keywordtype}{int} nPFrVal);}
\DoxyCodeLine{53     \textcolor{keywordtype}{void} SetY(\textcolor{keywordtype}{double} y);}
\DoxyCodeLine{54     \textcolor{keywordtype}{void} SetX(\textcolor{keywordtype}{double} x);}
\DoxyCodeLine{55     \textcolor{keywordtype}{void} Triangulate(BOOL bCreate = TRUE);}
\DoxyCodeLine{56     \textcolor{keywordtype}{void} Triangulate0(\textcolor{keywordtype}{double} **MeshX, \textcolor{keywordtype}{double} **MeshY, \mbox{\hyperlink{structt___e_l_e_m_e_n_t}{ELEMENT}} **Elements, \textcolor{keywordtype}{int} *nPNum, \textcolor{keywordtype}{int} *nENum);}
\DoxyCodeLine{57     \textcolor{keywordtype}{void} CRoller::KillMesh();}
\DoxyCodeLine{58     \textcolor{keywordtype}{void} DrawProfile(\textcolor{keywordtype}{double} min\_x, \textcolor{keywordtype}{double} max\_x, \textcolor{keywordtype}{double} min\_y, \textcolor{keywordtype}{double} max\_y, \textcolor{keywordtype}{double} z);}
\DoxyCodeLine{59     \textcolor{keywordtype}{void} SetProfile0();}
\DoxyCodeLine{60     \textcolor{keywordtype}{void} SetProfile(\textcolor{keywordtype}{double} dRate); \textcolor{comment}{//БЫЛО БЕЗ ПРОВЕРКИ: void SetProfile(double dY0, double dRate); }}
\DoxyCodeLine{61     \textcolor{keywordtype}{void} RecalcProfile(\textcolor{keywordtype}{double} dT0, \textcolor{keywordtype}{double} dRate);}
\DoxyCodeLine{62     \textcolor{keywordtype}{void} Copy(\textcolor{keyword}{const} \mbox{\hyperlink{class_c_roller}{CRoller}} \&Src, \textcolor{keywordtype}{bool} bTurn = FALSE);}
\DoxyCodeLine{63     \textcolor{keywordtype}{void} Load(CFile \&File);}
\DoxyCodeLine{64     \textcolor{keywordtype}{void} Save(CFile \&File);}
\DoxyCodeLine{65     \textcolor{keywordtype}{bool} SetPoint(\textcolor{keywordtype}{double} x, \textcolor{keywordtype}{double} y, \textcolor{keywordtype}{int} nPoint);}
\DoxyCodeLine{66     \textcolor{keywordtype}{double} GetZ(\textcolor{keywordtype}{double} x, \textcolor{keywordtype}{double} y, \textcolor{keywordtype}{int} *nPFrVal);}
\DoxyCodeLine{67 }
\DoxyCodeLine{68     \textcolor{keywordtype}{void} glDraw(\textcolor{keywordtype}{int} nMode, \textcolor{keywordtype}{double} min\_x, \textcolor{keywordtype}{double} max\_x, \textcolor{keywordtype}{double} min\_y, \textcolor{keywordtype}{double} max\_y);}
\DoxyCodeLine{69 }
\DoxyCodeLine{70     \textcolor{keywordtype}{void}    SetRadius(\textcolor{keywordtype}{double} dR) \{ m\_dRadius = dR; \}}
\DoxyCodeLine{71     \textcolor{keywordtype}{double}  GetRadius() \{ \textcolor{keywordflow}{return} m\_dRadius; \}}
\DoxyCodeLine{72 }
\DoxyCodeLine{73     \textcolor{keywordtype}{double}  GetProfileY(\textcolor{keywordtype}{int} i, \textcolor{keywordtype}{double} z);}
\DoxyCodeLine{74     \mbox{\hyperlink{struct_r___p_o_i_n_t}{R\_POINT}} GetPrPoint(\textcolor{keywordtype}{int} n) \{}
\DoxyCodeLine{75         n = max(0, min(m\_Profile.GetSize() -\/ 1, n));}
\DoxyCodeLine{76         \textcolor{keywordflow}{return} m\_Profile[n];}
\DoxyCodeLine{77     \}}
\DoxyCodeLine{78     \textcolor{keywordtype}{double} GetPointY(\textcolor{keywordtype}{int} nPoint) \{ \textcolor{keywordflow}{return} m\_Profile[nPoint].y; \}}
\DoxyCodeLine{79 \textcolor{keyword}{public}:}
\DoxyCodeLine{80     \textcolor{keywordtype}{double} m\_dRadius;}
\DoxyCodeLine{81     \textcolor{keywordtype}{bool}   m\_bTop;}
\DoxyCodeLine{82 }
\DoxyCodeLine{83     CArray<R\_POINT, R\_POINT> m\_Profile;}
\DoxyCodeLine{84     CArray<R\_POINT, R\_POINT> m\_Profile0;}
\DoxyCodeLine{85     CArray<double, double> m\_YVel;}
\DoxyCodeLine{86 }
\DoxyCodeLine{87     \textcolor{keywordtype}{double} m\_dTkf;}
\DoxyCodeLine{88 }
\DoxyCodeLine{89 \textcolor{keyword}{protected}:}
\DoxyCodeLine{90     \textcolor{keywordtype}{double} GetTCross(\textcolor{keywordtype}{double} x, \textcolor{keywordtype}{double} y, \textcolor{keywordtype}{double} vx, \textcolor{keywordtype}{double} vy, \textcolor{keywordtype}{int} RCnt);}
\DoxyCodeLine{91 \textcolor{keyword}{public}:}
\DoxyCodeLine{92     \textcolor{keywordtype}{double} GetRadius(\textcolor{keywordtype}{double} y, \textcolor{keywordtype}{double} z);}
\DoxyCodeLine{93 \};}
\DoxyCodeLine{94 }
\DoxyCodeLine{95 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// !defined(AFX\_ROLLER\_H\_\_547E4E97\_CBE8\_4C44\_AF02\_21FF7B703034\_\_INCLUDED\_)}}

\end{DoxyCode}
