\hypertarget{neon_8h_source}{}\doxysection{neon.\+h}
\label{neon_8h_source}\index{C:/Projects/FEM/831\_finite\_element\_modeling/dependencies/glm/glm/simd/neon.h@{C:/Projects/FEM/831\_finite\_element\_modeling/dependencies/glm/glm/simd/neon.h}}
\mbox{\hyperlink{neon_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{5 }
\DoxyCodeLine{6 \textcolor{preprocessor}{\#if GLM\_ARCH \& GLM\_ARCH\_NEON\_BIT}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <arm\_neon.h>}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceglm}{glm}} \{}
\DoxyCodeLine{10     \textcolor{keyword}{namespace }neon \{}
\DoxyCodeLine{11         \textcolor{keyword}{static} \textcolor{keyword}{inline} float32x4\_t dupq\_lane(float32x4\_t vsrc, \textcolor{keywordtype}{int} lane) \{}
\DoxyCodeLine{12             \textcolor{keywordflow}{switch}(lane) \{}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#if GLM\_ARCH \& GLM\_ARCH\_ARMV8\_BIT}}
\DoxyCodeLine{14                 \textcolor{keywordflow}{case} 0: \textcolor{keywordflow}{return} vdupq\_laneq\_f32(vsrc, 0);}
\DoxyCodeLine{15                 \textcolor{keywordflow}{case} 1: \textcolor{keywordflow}{return} vdupq\_laneq\_f32(vsrc, 1);}
\DoxyCodeLine{16                 \textcolor{keywordflow}{case} 2: \textcolor{keywordflow}{return} vdupq\_laneq\_f32(vsrc, 2);}
\DoxyCodeLine{17                 \textcolor{keywordflow}{case} 3: \textcolor{keywordflow}{return} vdupq\_laneq\_f32(vsrc, 3);}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{19                 \textcolor{keywordflow}{case} 0: \textcolor{keywordflow}{return} vdupq\_n\_f32(vgetq\_lane\_f32(vsrc, 0));}
\DoxyCodeLine{20                 \textcolor{keywordflow}{case} 1: \textcolor{keywordflow}{return} vdupq\_n\_f32(vgetq\_lane\_f32(vsrc, 1));}
\DoxyCodeLine{21                 \textcolor{keywordflow}{case} 2: \textcolor{keywordflow}{return} vdupq\_n\_f32(vgetq\_lane\_f32(vsrc, 2));}
\DoxyCodeLine{22                 \textcolor{keywordflow}{case} 3: \textcolor{keywordflow}{return} vdupq\_n\_f32(vgetq\_lane\_f32(vsrc, 3));}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{24             \}}
\DoxyCodeLine{25             assert(!\textcolor{stringliteral}{"{}Unreachable code executed!"{}});}
\DoxyCodeLine{26             \textcolor{keywordflow}{return} vdupq\_n\_f32(0.0f);}
\DoxyCodeLine{27         \}}
\DoxyCodeLine{28 }
\DoxyCodeLine{29         \textcolor{keyword}{static} \textcolor{keyword}{inline} float32x2\_t dup\_lane(float32x4\_t vsrc, \textcolor{keywordtype}{int} lane) \{}
\DoxyCodeLine{30             \textcolor{keywordflow}{switch}(lane) \{}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#if GLM\_ARCH \& GLM\_ARCH\_ARMV8\_BIT}}
\DoxyCodeLine{32                 \textcolor{keywordflow}{case} 0: \textcolor{keywordflow}{return} vdup\_laneq\_f32(vsrc, 0);}
\DoxyCodeLine{33                 \textcolor{keywordflow}{case} 1: \textcolor{keywordflow}{return} vdup\_laneq\_f32(vsrc, 1);}
\DoxyCodeLine{34                 \textcolor{keywordflow}{case} 2: \textcolor{keywordflow}{return} vdup\_laneq\_f32(vsrc, 2);}
\DoxyCodeLine{35                 \textcolor{keywordflow}{case} 3: \textcolor{keywordflow}{return} vdup\_laneq\_f32(vsrc, 3);}
\DoxyCodeLine{36 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{37                 \textcolor{keywordflow}{case} 0: \textcolor{keywordflow}{return} vdup\_n\_f32(vgetq\_lane\_f32(vsrc, 0));}
\DoxyCodeLine{38                 \textcolor{keywordflow}{case} 1: \textcolor{keywordflow}{return} vdup\_n\_f32(vgetq\_lane\_f32(vsrc, 1));}
\DoxyCodeLine{39                 \textcolor{keywordflow}{case} 2: \textcolor{keywordflow}{return} vdup\_n\_f32(vgetq\_lane\_f32(vsrc, 2));}
\DoxyCodeLine{40                 \textcolor{keywordflow}{case} 3: \textcolor{keywordflow}{return} vdup\_n\_f32(vgetq\_lane\_f32(vsrc, 3));}
\DoxyCodeLine{41 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{42             \}}
\DoxyCodeLine{43             assert(!\textcolor{stringliteral}{"{}Unreachable code executed!"{}});}
\DoxyCodeLine{44             \textcolor{keywordflow}{return} vdup\_n\_f32(0.0f);}
\DoxyCodeLine{45         \}}
\DoxyCodeLine{46 }
\DoxyCodeLine{47         \textcolor{keyword}{static} \textcolor{keyword}{inline} float32x4\_t copy\_lane(float32x4\_t vdst, \textcolor{keywordtype}{int} dlane, float32x4\_t vsrc, \textcolor{keywordtype}{int} slane) \{}
\DoxyCodeLine{48 \textcolor{preprocessor}{\#if GLM\_ARCH \& GLM\_ARCH\_ARMV8\_BIT}}
\DoxyCodeLine{49             \textcolor{keywordflow}{switch}(dlane) \{}
\DoxyCodeLine{50                 \textcolor{keywordflow}{case} 0:}
\DoxyCodeLine{51                     \textcolor{keywordflow}{switch}(slane) \{}
\DoxyCodeLine{52                         \textcolor{keywordflow}{case} 0: \textcolor{keywordflow}{return} vcopyq\_laneq\_f32(vdst, 0, vsrc, 0);}
\DoxyCodeLine{53                         \textcolor{keywordflow}{case} 1: \textcolor{keywordflow}{return} vcopyq\_laneq\_f32(vdst, 0, vsrc, 1);}
\DoxyCodeLine{54                         \textcolor{keywordflow}{case} 2: \textcolor{keywordflow}{return} vcopyq\_laneq\_f32(vdst, 0, vsrc, 2);}
\DoxyCodeLine{55                         \textcolor{keywordflow}{case} 3: \textcolor{keywordflow}{return} vcopyq\_laneq\_f32(vdst, 0, vsrc, 3);}
\DoxyCodeLine{56                     \}}
\DoxyCodeLine{57                     assert(!\textcolor{stringliteral}{"{}Unreachable code executed!"{}});}
\DoxyCodeLine{58                 \textcolor{keywordflow}{case} 1:}
\DoxyCodeLine{59                     \textcolor{keywordflow}{switch}(slane) \{}
\DoxyCodeLine{60                         \textcolor{keywordflow}{case} 0: \textcolor{keywordflow}{return} vcopyq\_laneq\_f32(vdst, 1, vsrc, 0);}
\DoxyCodeLine{61                         \textcolor{keywordflow}{case} 1: \textcolor{keywordflow}{return} vcopyq\_laneq\_f32(vdst, 1, vsrc, 1);}
\DoxyCodeLine{62                         \textcolor{keywordflow}{case} 2: \textcolor{keywordflow}{return} vcopyq\_laneq\_f32(vdst, 1, vsrc, 2);}
\DoxyCodeLine{63                         \textcolor{keywordflow}{case} 3: \textcolor{keywordflow}{return} vcopyq\_laneq\_f32(vdst, 1, vsrc, 3);}
\DoxyCodeLine{64                     \}}
\DoxyCodeLine{65                     assert(!\textcolor{stringliteral}{"{}Unreachable code executed!"{}});}
\DoxyCodeLine{66                 \textcolor{keywordflow}{case} 2:}
\DoxyCodeLine{67                     \textcolor{keywordflow}{switch}(slane) \{}
\DoxyCodeLine{68                         \textcolor{keywordflow}{case} 0: \textcolor{keywordflow}{return} vcopyq\_laneq\_f32(vdst, 2, vsrc, 0);}
\DoxyCodeLine{69                         \textcolor{keywordflow}{case} 1: \textcolor{keywordflow}{return} vcopyq\_laneq\_f32(vdst, 2, vsrc, 1);}
\DoxyCodeLine{70                         \textcolor{keywordflow}{case} 2: \textcolor{keywordflow}{return} vcopyq\_laneq\_f32(vdst, 2, vsrc, 2);}
\DoxyCodeLine{71                         \textcolor{keywordflow}{case} 3: \textcolor{keywordflow}{return} vcopyq\_laneq\_f32(vdst, 2, vsrc, 3);}
\DoxyCodeLine{72                     \}}
\DoxyCodeLine{73                     assert(!\textcolor{stringliteral}{"{}Unreachable code executed!"{}});}
\DoxyCodeLine{74                 \textcolor{keywordflow}{case} 3:}
\DoxyCodeLine{75                     \textcolor{keywordflow}{switch}(slane) \{}
\DoxyCodeLine{76                         \textcolor{keywordflow}{case} 0: \textcolor{keywordflow}{return} vcopyq\_laneq\_f32(vdst, 3, vsrc, 0);}
\DoxyCodeLine{77                         \textcolor{keywordflow}{case} 1: \textcolor{keywordflow}{return} vcopyq\_laneq\_f32(vdst, 3, vsrc, 1);}
\DoxyCodeLine{78                         \textcolor{keywordflow}{case} 2: \textcolor{keywordflow}{return} vcopyq\_laneq\_f32(vdst, 3, vsrc, 2);}
\DoxyCodeLine{79                         \textcolor{keywordflow}{case} 3: \textcolor{keywordflow}{return} vcopyq\_laneq\_f32(vdst, 3, vsrc, 3);}
\DoxyCodeLine{80                     \}}
\DoxyCodeLine{81                     assert(!\textcolor{stringliteral}{"{}Unreachable code executed!"{}});}
\DoxyCodeLine{82             \}}
\DoxyCodeLine{83 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{84 }
\DoxyCodeLine{85             \textcolor{keywordtype}{float} l;}
\DoxyCodeLine{86             \textcolor{keywordflow}{switch}(slane) \{}
\DoxyCodeLine{87                 \textcolor{keywordflow}{case} 0: l = vgetq\_lane\_f32(vsrc, 0); \textcolor{keywordflow}{break};}
\DoxyCodeLine{88                 \textcolor{keywordflow}{case} 1: l = vgetq\_lane\_f32(vsrc, 1); \textcolor{keywordflow}{break};}
\DoxyCodeLine{89                 \textcolor{keywordflow}{case} 2: l = vgetq\_lane\_f32(vsrc, 2); \textcolor{keywordflow}{break};}
\DoxyCodeLine{90                 \textcolor{keywordflow}{case} 3: l = vgetq\_lane\_f32(vsrc, 3); \textcolor{keywordflow}{break};}
\DoxyCodeLine{91                 \textcolor{keywordflow}{default}: }
\DoxyCodeLine{92                     assert(!\textcolor{stringliteral}{"{}Unreachable code executed!"{}});}
\DoxyCodeLine{93             \}}
\DoxyCodeLine{94             \textcolor{keywordflow}{switch}(dlane) \{}
\DoxyCodeLine{95                 \textcolor{keywordflow}{case} 0: \textcolor{keywordflow}{return} vsetq\_lane\_f32(l, vdst, 0);}
\DoxyCodeLine{96                 \textcolor{keywordflow}{case} 1: \textcolor{keywordflow}{return} vsetq\_lane\_f32(l, vdst, 1);}
\DoxyCodeLine{97                 \textcolor{keywordflow}{case} 2: \textcolor{keywordflow}{return} vsetq\_lane\_f32(l, vdst, 2);}
\DoxyCodeLine{98                 \textcolor{keywordflow}{case} 3: \textcolor{keywordflow}{return} vsetq\_lane\_f32(l, vdst, 3);}
\DoxyCodeLine{99             \}}
\DoxyCodeLine{100 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{101             assert(!\textcolor{stringliteral}{"{}Unreachable code executed!"{}});}
\DoxyCodeLine{102             \textcolor{keywordflow}{return} vdupq\_n\_f32(0.0f);}
\DoxyCodeLine{103         \}}
\DoxyCodeLine{104 }
\DoxyCodeLine{105         \textcolor{keyword}{static} \textcolor{keyword}{inline} float32x4\_t mul\_lane(float32x4\_t v, float32x4\_t vlane, \textcolor{keywordtype}{int} lane) \{}
\DoxyCodeLine{106 \textcolor{preprocessor}{\#if GLM\_ARCH \& GLM\_ARCH\_ARMV8\_BIT}}
\DoxyCodeLine{107             \textcolor{keywordflow}{switch}(lane) \{ }
\DoxyCodeLine{108                 \textcolor{keywordflow}{case} 0: \textcolor{keywordflow}{return} vmulq\_laneq\_f32(v, vlane, 0); \textcolor{keywordflow}{break};}
\DoxyCodeLine{109                 \textcolor{keywordflow}{case} 1: \textcolor{keywordflow}{return} vmulq\_laneq\_f32(v, vlane, 1); \textcolor{keywordflow}{break};}
\DoxyCodeLine{110                 \textcolor{keywordflow}{case} 2: \textcolor{keywordflow}{return} vmulq\_laneq\_f32(v, vlane, 2); \textcolor{keywordflow}{break};}
\DoxyCodeLine{111                 \textcolor{keywordflow}{case} 3: \textcolor{keywordflow}{return} vmulq\_laneq\_f32(v, vlane, 3); \textcolor{keywordflow}{break};}
\DoxyCodeLine{112                 \textcolor{keywordflow}{default}: }
\DoxyCodeLine{113                     assert(!\textcolor{stringliteral}{"{}Unreachable code executed!"{}});}
\DoxyCodeLine{114             \}}
\DoxyCodeLine{115             assert(!\textcolor{stringliteral}{"{}Unreachable code executed!"{}});}
\DoxyCodeLine{116             \textcolor{keywordflow}{return} vdupq\_n\_f32(0.0f);}
\DoxyCodeLine{117 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{118             \textcolor{keywordflow}{return} vmulq\_f32(v, dupq\_lane(vlane, lane));}
\DoxyCodeLine{119 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{120         \}}
\DoxyCodeLine{121 }
\DoxyCodeLine{122         \textcolor{keyword}{static} \textcolor{keyword}{inline} float32x4\_t madd\_lane(float32x4\_t acc, float32x4\_t v, float32x4\_t vlane, \textcolor{keywordtype}{int} lane) \{}
\DoxyCodeLine{123 \textcolor{preprocessor}{\#if GLM\_ARCH \& GLM\_ARCH\_ARMV8\_BIT}}
\DoxyCodeLine{124 \textcolor{preprocessor}{\#ifdef GLM\_CONFIG\_FORCE\_FMA}}
\DoxyCodeLine{125 \textcolor{preprocessor}{\#   define FMADD\_LANE(acc, x, y, L) do \{ asm volatile ("{}fmla \%0.4s, \%1.4s, \%2.4s"{}} : "{}+w"{}(acc) : "{}w"{}(x), "{}w"{}(dup\_lane(y, L))); \} while(0)}
\DoxyCodeLine{126 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{127 \textcolor{preprocessor}{\#   define FMADD\_LANE(acc, x, y, L) do \{ acc = vmlaq\_laneq\_f32(acc, x, y, L); \} while(0)}}
\DoxyCodeLine{128 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{129 }
\DoxyCodeLine{130             \textcolor{keywordflow}{switch}(lane) \{ }
\DoxyCodeLine{131                 \textcolor{keywordflow}{case} 0: }
\DoxyCodeLine{132                     FMADD\_LANE(acc, v, vlane, 0);}
\DoxyCodeLine{133                     \textcolor{keywordflow}{return} acc;}
\DoxyCodeLine{134                 \textcolor{keywordflow}{case} 1:}
\DoxyCodeLine{135                     FMADD\_LANE(acc, v, vlane, 1);}
\DoxyCodeLine{136                     \textcolor{keywordflow}{return} acc;}
\DoxyCodeLine{137                 \textcolor{keywordflow}{case} 2:}
\DoxyCodeLine{138                     FMADD\_LANE(acc, v, vlane, 2);}
\DoxyCodeLine{139                     \textcolor{keywordflow}{return} acc;}
\DoxyCodeLine{140                 \textcolor{keywordflow}{case} 3:}
\DoxyCodeLine{141                     FMADD\_LANE(acc, v, vlane, 3);}
\DoxyCodeLine{142                     \textcolor{keywordflow}{return} acc;}
\DoxyCodeLine{143                 \textcolor{keywordflow}{default}: }
\DoxyCodeLine{144                     assert(!\textcolor{stringliteral}{"{}Unreachable code executed!"{}});}
\DoxyCodeLine{145             \}}
\DoxyCodeLine{146             assert(!\textcolor{stringliteral}{"{}Unreachable code executed!"{}});}
\DoxyCodeLine{147             \textcolor{keywordflow}{return} vdupq\_n\_f32(0.0f);}
\DoxyCodeLine{148 \textcolor{preprocessor}{\#   undef FMADD\_LANE}}
\DoxyCodeLine{149 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{150             \textcolor{keywordflow}{return} vaddq\_f32(acc, vmulq\_f32(v, dupq\_lane(vlane, lane)));}
\DoxyCodeLine{151 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{152         \}}
\DoxyCodeLine{153     \} \textcolor{comment}{//namespace neon}}
\DoxyCodeLine{154 \} \textcolor{comment}{// namespace glm}}
\DoxyCodeLine{155 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// GLM\_ARCH \& GLM\_ARCH\_NEON\_BIT}}

\end{DoxyCode}
